<div class="profile-container">
  <div class="profile-card">
    <h1>My Profile</h1>

    {{#if user}}
    <div class="profile-section">
      <h2>Account Information</h2>

      <div class="profile-field">
        <label>Email:</label>
        <p>{{user.email}}</p>
      </div>

      {{#if user.fname}}
      <div class="profile-field">
        <label>First Name:</label>
        <p>{{user.fname}}</p>
      </div>
      {{/if}}

      {{#if user.lname}}
      <div class="profile-field">
        <label>Last Name:</label>
        <p>{{user.lname}}</p>
      </div>
      {{/if}}

      {{#if user.role}}
      <div class="profile-field">
        <label>Role:</label>
        <p>{{user.role}}</p>
      </div>
      {{/if}}
    </div>

    {{!-- User profile add "Liked Boroughs" --}}
    <div class="profile-section">
      <h2>Liked Boroughs</h2>

      {{#if likedBoroughs}}
      <ul class="list-group">
        {{#each likedBoroughs}}
        <li class="list-group-item"
          style="display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; border-bottom: 1px solid var(--border);">
          <span style="font-weight: 600;">{{this.name}}</span>
          <a href="/boroughs/{{this._id}}" class="btn btn-primary" style="padding: 5px 10px;">View Details</a>
        </li>
        {{/each}}
      </ul>
      {{else}}
      <p class="text-muted">You have not liked any boroughs yet.</p>
      {{/if}}
    </div>

    {{!-- "Your Comments" history with borough link --}}
    <div class="profile-section">
      <h2>Your Comments</h2>

      {{#if userComments}}
      <ul class="list-group">
        {{#each userComments}}
        <li class="list-group-item" style="padding: 10px 15px; border-bottom: 1px solid var(--border);">
          <p style="margin: 0 0 5px 0;">"{{this.comment}}"</p>
          <small class="text-muted">
            on
            {{#if this.borough}}
            <a href="/boroughs/{{this.borough._id}}">
              <strong>{{this.borough.name}}</strong>
            </a>
            {{else}}
            [Deleted Borough]
            {{/if}}
            â€” {{this.commentDate}}
          </small>
        </li>
        {{/each}}
      </ul>
      {{else}}
      <p class="text-muted">You have not posted any comments yet.</p>
      {{/if}}
    </div>

    <div class="profile-actions">
      <a href="/users/edit-profile" class="btn btn-primary">Edit Profile</a>
      <a href="/users/logout" class="btn btn-outline">Sign Out</a>
      <button id="deleteAccountBtn" class="btn btn-danger">Delete Account</button>
    </div>
    {{else}}
    <div class="profile-section">
      <p class="text-muted">
        You are not logged in. Please
        <a href="/users/login">sign in</a>
        to view your profile.
      </p>
    </div>
    {{/if}}
  </div>
</div>

<div id="deleteAccountModal" class="modal">
  <div class="modal-content">
    <h2>Delete Account</h2>
    <p>Are you sure you want to delete your account? This action cannot be undone.</p>
    <p style="color: #dc3545; font-weight: 600;">All your data will be permanently deleted.</p>
    <div class="modal-actions">
      <button class="btn-confirm" id="confirmDeleteBtn">Yes, Delete</button>
      <button class="btn-cancel" id="cancelDeleteBtn">Cancel</button>
    </div>
  </div>
</div>

<script>
</script>